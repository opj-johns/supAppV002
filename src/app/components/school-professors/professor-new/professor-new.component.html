<div class="container">
  <form #studentForm="ngForm" (ngSubmit)="saveProfessor()">
    <div class="row mb-3">
      <label for="firstName" class="col-sm-2 col-form-label">First Name</label>
      <div class="col-sm-10">
        <input
          type="text"
          name="firstName"
          class="form-control"
          [(ngModel)]="professor.firstName"
          id="firstName"
          required
          placeholder="First name"
        />
      </div>
    </div>

    <div class="row mb-3">
      <label for="lastName" class="col-sm-2 col-form-label">Last Name</label>
      <div class="col-sm-10">
        <input
          type="text"
          name="lastName"
          required
          [(ngModel)]="professor.lastName"
          class="form-control"
          id="lastName"
          placeholder="last name"
        />
      </div>
    </div>
    <div class="row mb-3">
      <label for="email" class="col-sm-2 col-form-label">Email</label>
      <div class="col-sm-10">
        <input
          type="email"
          name="email"
          required
          [(ngModel)]="professor.email"
          class="form-control"
          id="email"
          placeholder="name@gmail.com"
        />
      </div>
    </div>
    <div class="row mb-3">
      <label for="phone" class="col-sm-2 col-form-label">Phone</label>
      <div class="col-sm-10">
        <input
          type="text"
          name="phone"
          required
          [(ngModel)]="professor.phone"
          class="form-control"
          id="phone"
          placeholder="+212 33 232 323 2"
        />
      </div>
    </div>

    <label for="subjectsTaught" class="col-sm-2 col-form-label"
      >Subjects taught</label
    >
    <div class="col-sm-10">
      <mat-list>
        <mat-list-item
          *ngFor="let subject of professor.subjectsTaught; index as i"
        >
          {{ i + 1 }}. {{ subject.subjectName }}
        </mat-list-item>
      </mat-list>
    </div>

    <button
      *ngIf="professor.subjectsTaught!.length > 0"
      mat-flat-button
      (click)="toggleSubjects()"
    >
      Change subjects thought
    </button>

    <h4>Select subjects for {{ professor.lastName }}</h4>
    <div class="input-form-field">
      <mat-form-field appearance="standard">
        <mat-label>Filter</mat-label>
        <input
          matInput
          (keyup)="applyFilter($event)"
          placeholder="Ex. Mia"
          #input
        />
      </mat-form-field>
    </div>
    <div class="mat-elevation-z8">
      <table mat-table [dataSource]="dataSource" matSort>
        <!-- Position Column -->
        <ng-container matColumnDef="id">
          <th mat-header-cell *matHeaderCellDef>ID</th>
          <td mat-cell *matCellDef="let subject">
            {{ subject.id }}
          </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="subjectName">
          <th mat-header-cell *matHeaderCellDef>Subject Name</th>
          <td mat-cell *matCellDef="let subject">
            {{ subject.subjectName }}
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr
          mat-row
          (click)="addSubject(row)"
          *matRowDef="let row; columns: displayedColumns"
        ></tr>
      </table>

      <mat-paginator
        #paginator
        [pageSizeOptions]="[5, 10, 25, 100]"
        pageSize="5"
        showFirstLastButtons
        aria-label="Select page of users"
      >
      </mat-paginator>
    </div>

    <mat-divider></mat-divider>
    <button mat-raised-button type="sumit">Save</button>
    <button mat-raised-button type="reset">Reset</button>
    <button mat-raised-button (click)="goToProfessorsPage()">Cancel</button>
  </form>
</div>
